-- 함수선언
-- 함수명 : GETDNAME
-- 매개변수 STUDNO
-- 반환 값 학생 소속학과 이름
-- 반환타입 VARCHAR2

SELECT DNAME 
FROM STUDENT 
JOIN department 
USING(DEPTNO) 
WHERE STUDNO = 10101;


CREATE OR REPLACE FUNCTION GETDNAME(P_STUDNO STUDENT.STUDNO%TYPE) RETURN DEPARTMENT.DNAME%TYPE IS
    V_DNAME DEPARTMENT.DNAME%TYPE;
BEGIN
    SELECT DNAME INTO V_DNAME
    FROM STUDENT 
    JOIN department 
    USING(DEPTNO) 
    WHERE STUDNO = P_STUDNO;
    RETURN V_DNAME;
END;
/

SELECT GETDNAME(10101) FROM DUAL;
SELECT GETDNAME(10301) FROM DUAL;
